# Colony-counter
Web-based semi-automatic colony counter for cell colony formation assays with human verification and batch Excel export.
# Colony Counter (Web)

用于**细胞克隆形成实验（colony formation assay）**的半自动计数网页工具。  
基于浏览器运行，支持人工确认，适合实验室内部日常使用。

---

## 项目简介

细胞克隆形成实验的人工计数过程通常存在以下问题：

- 耗时长、重复劳动多  
- 不同操作者之间主观差异明显  
- 融合集落（fused colonies）难以统一判定标准  

本工具采用 **“自动识别 + 人工确认（human-in-the-loop）”** 的方式：

- 自动识别单克隆与融合集落  
- 对融合集落给出拆分建议  
- 最终结果由操作者确认后导出  

工具定位为 **半自动科研辅助工具**，而非全自动黑箱计数。

---

## 主要功能

- 支持 **6 孔板 / 12 孔板**，自动分区  
- 自动识别圆形单克隆（single colonies）  
- 识别融合集落并给出拆分建议  
- 人工编辑功能：  
  - 点击选中、高亮显示  
  - 拖拽调整  
  - 手动添加 / 删除单克隆  
- Hover 高亮、点击高亮  
- Undo / Redo  
- ESC 取消当前操作  
- 多张图片批量导入  
- 多张图片统计结果 **统一导出为一个 Excel 文件**

---

## 使用方式

### 1. 打开工具

使用 Chrome / Edge 等现代浏览器，直接打开网页即可使用。

### 2. 导入图片

- 点击“导入图片”  
- 可一次选择一张或多张图片  

### 3. 选择孔板类型

- 6-well plate  
- 12-well plate  

工具将自动完成孔区分割。

### 4. 查看自动识别结果

- 单克隆：以圆形区域标注  
- 融合集落：显示拆分建议圆  

### 5. 人工确认与修改（如需要）

- 点击区域进行选中（黑色描边）  
- 鼠标悬停显示灰色描边  
- 拖拽调整位置或大小  
- 删除或新增单克隆区域  

### 6. 确认计数并导出

- 勾选需要导出的图片  
- 点击“导出 Excel”  
- 所有选中图片结果将写入同一个 Excel 文件  

---

## 支持的图片格式

- 文件格式：`JPG` / `PNG` / `TIFF`  
- 实验类型：  
  - 结晶紫（Crystal Violet）染色  
  - 甲基紫（Methyl Violet）染色  
- 建议条件：  
  - 背景干净、对比度良好  
  - 图片包含完整孔区域  

⚠️ 本工具 **不适用于细菌菌落计数**。

---

## 计数原则说明

- **单克隆（Single colony）定义：**  
  - 形态近似圆形  
  - 边界清晰  
  - 面积大小不限，重点在形态  

- **融合集落（Fused colonies）：**  
  - 工具仅提供拆分建议  
  - 不自动决定最终克隆数  
  - 最终结果必须由操作者确认  

> 所有导出的计数结果均基于人工确认后的最终状态。

---

## 输出结果说明

- 每次导出生成 **一个 Excel 文件**  
- 每一行对应一张图片  
- 常见字段包括：  
  - 图片名称  
  - 孔板类型  
  - 单克隆数量  
  - 融合集落数量  
  - 最终克隆总数  

---

## 数据与隐私说明

- 所有图片仅在本地浏览器中处理  
- 不上传服务器  
- 不保存任何实验数据  

适合实验室内部及本地使用环境。

---

## 局限性说明

- 依赖染色质量和成像清晰度  
- 不同实验间参数不可直接通用  
- 不设计为完全自动计数工具  

---

## 技术信息（简要）

- 纯前端网页工具  
- HTML / CSS / JavaScript  
- 通过 GitHub Pages 访问  

---

## 未来规划（可选）

- 实验内自适应单克隆面积学习  
- 基于人工确认数据的拆分建议优化  

---

如有问题或功能需求，请在实验室内部沟通或提交 issue。
